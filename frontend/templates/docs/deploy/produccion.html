<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Producci贸n | PredictHealth</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/docs.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="/" class="logo">
                <i class="fas fa-heartbeat"></i>
                PredictHealth Docs
            </a>
            <a href="/docs" class="back-btn">
                <i class="fas fa-arrow-left"></i> Volver
            </a>
        </div>
    </header>

    <!-- Main Container -->
    <div class="docs-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Introducci贸n</div>
                <ul class="sidebar-links">
                    <li><a href="/docs" class="sidebar-link">Visi贸n General</a></li>
                    <li><a href="/docs/arquitectura" class="sidebar-link">Arquitectura del Sistema</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Backend</div>
                <ul class="sidebar-links">
                    <li><a href="/docs/backend/flask" class="sidebar-link">Flask API</a></li>
                    <li><a href="/docs/backend/microservicios" class="sidebar-link">Microservicios</a></li>
                    <li><a href="/docs/backend/autenticacion" class="sidebar-link">Autenticaci贸n JWT</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Frontend</div>
                <ul class="sidebar-links">
                    <li><a href="/docs/frontend/estructura" class="sidebar-link">Estructura</a></li>
                    <li><a href="/docs/frontend/componentes" class="sidebar-link">Componentes</a></li>
                    <li><a href="/docs/frontend/estilos" class="sidebar-link">Estilos y Dise帽o</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Base de Datos</div>
                <ul class="sidebar-links">
                    <li><a href="/docs/database/postgresql" class="sidebar-link">PostgreSQL</a></li>
                    <li><a href="/docs/database/redis" class="sidebar-link">Redis Cache</a></li>
                    <li><a href="/docs/database/firebase" class="sidebar-link">Firebase</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Machine Learning</div>
                <ul class="sidebar-links">
                    <li><a href="/docs/ml/modelos" class="sidebar-link">Modelos Predictivos</a></li>
                    <li><a href="/docs/ml/entrenamiento" class="sidebar-link">Entrenamiento</a></li>
                    <li><a href="/docs/ml/deployment" class="sidebar-link">Despliegue</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Dispositivos</div>
                <ul class="sidebar-links">
                    <li><a href="/docs/devices/mobile" class="sidebar-link">App M贸vil</a></li>
                    <li><a href="/docs/devices/leap-motion" class="sidebar-link">Leap Motion</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Deployment</div>
                <ul class="sidebar-links">
                    <li><a href="/docs/deploy/docker" class="sidebar-link">Docker</a></li>
                    <li><a href="/docs/deploy/produccion" class="sidebar-link active">Producci贸n</a></li>
                </ul>
            </div>
        </aside>

        <!-- Content -->
        <main class="content">
            <h1 class="page-title">
                <span class="emoji"></span>
                Producci贸n
            </h1>

            <p class="intro-text">
                Configuraci贸n y mejores pr谩cticas para despliegue de PredictHealth en producci贸n. Incluye seguridad, monitoreo, escalabilidad y mantenimiento.
            </p>

            <h2>Configuraci贸n de Producci贸n</h2>
            <p>
                Variables de entorno cr铆ticas para producci贸n:
            </p>

            <div class="tech-section">
                <h3>Seguridad</h3>
                <ul>
                    <li><code>SECRET_KEY</code> - Clave secreta fuerte generada aleatoriamente</li>
                    <li><code>JWT_SECRET_KEY</code> - Clave secreta para firmar tokens JWT</li>
                    <li><code>FLASK_ENV=production</code> - Modo producci贸n (debug deshabilitado)</li>
                    <li><code>DEBUG=False</code> - Deshabilitar modo debug</li>
                </ul>

                <h3>Base de Datos</h3>
                <ul>
                    <li><code>DATABASE_URL</code> - Cadena de conexi贸n PostgreSQL con credenciales seguras</li>
                    <li><code>REDIS_URL</code> - Cadena de conexi贸n Redis</li>
                    <li>Credenciales de base de datos almacenadas en secretos (no en c贸digo)</li>
                </ul>

                <h3>CORS</h3>
                <ul>
                    <li><code>CORS_ORIGINS</code> - Or铆genes permitidos restringidos a dominios de producci贸n</li>
                    <li>No usar <code>*</code> en producci贸n</li>
                </ul>
            </div>

            <h2>Seguridad en Producci贸n</h2>

            <div class="tech-grid">
                <div class="tech-card">
                    <h4><i class="fas fa-lock" style="color: #4dd9d6;"></i> HTTPS</h4>
                    <p>Habilitar cifrado SSL/TLS con certificados v谩lidos. Cookies Secure=True con HTTPS.</p>
                </div>

                <div class="tech-card">
                    <h4><i class="fas fa-key" style="color: #667eea;"></i> Secretos</h4>
                    <p>Nunca comprometer datos sensibles. Usar gestores de secretos (AWS Secrets Manager, HashiCorp Vault).</p>
                </div>

                <div class="tech-card">
                    <h4><i class="fas fa-shield-alt" style="color: #f59e0b;"></i> Autenticaci贸n</h4>
                    <p>JWT stateless tokens, validaci贸n Redis, hashing bcrypt, control de acceso basado en roles.</p>
                </div>

                <div class="tech-card">
                    <h4><i class="fas fa-ban" style="color: #8b5cf6;"></i> Protecci贸n API</h4>
                    <p>CORS restrictivo, validaci贸n de entrada, cookies HttpOnly/SameSite, validaci贸n JWT en cada request.</p>
                </div>
            </div>

            <h2>Monitoreo y Logging</h2>
            <div class="tech-section">
                <h3>Health Checks</h3>
                <p>
                    Todos los servicios exponen endpoints de health check:
                </p>
                <ul>
                    <li><code>GET /health</code> - Estado de salud del servicio</li>
                    <li><code>GET /api/v1/health</code> - Estado de salud de API</li>
                </ul>

                <h3>Logging</h3>
                <p>
                    Configuraci贸n de logging en producci贸n:
                </p>
                <ul>
                    <li><code>LOG_LEVEL=INFO</code> o <code>WARNING</code> (no DEBUG en producci贸n)</li>
                    <li>Logging estructurado con formato JSON</li>
                    <li>Registro de acciones de usuario, eventos de seguridad y errores del sistema</li>
                    <li>Integraci贸n con sistemas de logging centralizados (ELK, CloudWatch, etc.)</li>
                </ul>

                <h3>M茅tricas</h3>
                <ul>
                    <li>Tiempos de respuesta de servicios</li>
                    <li>Tasas de error y 茅xito</li>
                    <li>Uso de recursos (CPU, memoria)</li>
                    <li>Conectividad de base de datos y Redis</li>
                </ul>
            </div>

            <h2>Escalabilidad</h2>
            <div class="tech-section">
                <h3>Escalado Horizontal</h3>
                <p>
                    La arquitectura de microservicios permite escalado horizontal:
                </p>
                <ul>
                    <li>M煤ltiples instancias de microservicios detr谩s de load balancer</li>
                    <li>API Gateway puede escalar independientemente</li>
                    <li>PostgreSQL con read replicas para consultas de solo lectura</li>
                    <li>Redis cluster para alta disponibilidad</li>
                </ul>

                <h3>Optimizaci贸n de Base de Datos</h3>
                <ul>
                    <li>Connection pooling configurado apropiadamente</li>
                    <li>ndices estrat茅gicos para consultas frecuentes</li>
                    <li>Vistas materializadas para reportes</li>
                    <li>Query optimization y an谩lisis de planes de ejecuci贸n</li>
                </ul>
            </div>

            <h2>Backup y Recuperaci贸n</h2>
            <div class="tech-section">
                <h3>Backup de Base de Datos</h3>
                <ul>
                    <li>Backups autom谩ticos regulares de PostgreSQL</li>
                    <li>Retenci贸n de backups seg煤n pol铆ticas de negocio</li>
                    <li>Backups incrementales y completos</li>
                    <li>Pruebas regulares de restauraci贸n</li>
                </ul>

                <h3>Backup de Configuraci贸n</h3>
                <ul>
                    <li>Versionado de variables de entorno</li>
                    <li>Documentaci贸n de configuraciones</li>
                    <li>Backup de secretos en gestores seguros</li>
                </ul>
            </div>

            <h2>Mejores Pr谩cticas</h2>
            <div class="tech-section">
                <h3>Despliegue</h3>
                <ul>
                    <li>Actualizaciones regulares de dependencias</li>
                    <li>Despliegues con zero-downtime (blue-green, canary)</li>
                    <li>Rollback plan documentado</li>
                    <li>Testing en staging antes de producci贸n</li>
                </ul>

                <h3>Mantenimiento</h3>
                <ul>
                    <li>Monitoreo continuo de salud del sistema</li>
                    <li>Auditor铆a de acceso y acciones de usuario</li>
                    <li>Revisi贸n regular de logs de seguridad</li>
                    <li>Actualizaciones de seguridad aplicadas oportunamente</li>
                </ul>

                <h3>Cumplimiento</h3>
                <ul>
                    <li>Est谩ndares de datos de salud (HIPAA, GDPR donde aplique)</li>
                    <li>Privacidad del paciente y acceso autorizado</li>
                    <li>Registro de auditor铆a para regulaciones</li>
                    <li>Encriptaci贸n de datos sensibles en tr谩nsito y reposo</li>
                </ul>
            </div>

            <h2>Configuraci贸n de Servicios</h2>
            <div>
                <span class="badge">FLASK_ENV=production</span>
                <span class="badge">DEBUG=False</span>
                <span class="badge">HTTPS habilitado</span>
                <span class="badge">Logging estructurado</span>
                <span class="badge">Health checks</span>
                <span class="badge">Backups autom谩ticos</span>
            </div>

            <p class="footer-note">
                <i class="fas fa-info-circle"></i>
                El despliegue en producci贸n requiere configuraci贸n cuidadosa de seguridad, monitoreo y escalabilidad para garantizar disponibilidad y protecci贸n de datos de salud.
            </p>
        </main>
    </div>
</body>
</html>